<html>
   <head>
      <title>The jQuery Example</title>
      <script type = "text/javascript" 
         src = "https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js">
      </script>

<script type = "text/javascript" language = "javascript">
const init = function(){
document.getElementById('button-reset').addEventListener('click', reset);
document.getElementById('button-submit').addEventListener('click', showalert);
}
const reset = function(ev){
    //HTML will automatically put the form back to its initial state
    //unless we do 
    ev.preventDefault();
    // programmatically we can reset it 
    document.getElementById('form-user').reset();
    //if you want to do anything else...
}	 

showAlert() = function(){
    //ev.preventDefault(); 
    //ev.stopPropagation();
	//or the click will travel to the form and the form will submit
    //let fails = validate();
    //IF we wanted to do some async things then use a Promise with .then and .catch
    //if(fails.length === 0){ 
	let H1 = document.getElementById('PREV01');
	let H2 = document.getElementById('CRET01');
	let H3 = document.getElementById('HEMATOCRIT01');
	let H4 = document.getElementById('BLEED01');
	let H5 = document.getElementById('PLATCOUNT01');
	let H6 = document.getElementById('COAG01');
	let M1 = document.getElementById('PCES01');
	let M2 = document.getElementById('MGEST01');
	let M3 = document.getElementById('PAR401');
	let M4 = document.getElementById('CHOR01');
	let M5 = document.getElementById('HISTHEM01');
	let M6 = document.getElementById('LEIO01');
	let M7 = document.getElementById('MACR01');
	let M8 = document.getElementById('BMI01');
	
	if (H1.checked || H2.checked || H3.checked || H4.checked || H5.checked || H6.checked) {
  	window.alert('CMQCC Classification: High Risk');
	} else if (M1.checked || M2.checked || M3.checked || M4.checked || M5.checked || M6.checked || M7.checked || M8.checked) {
	window.alert('CMQCC Classification: Medium Risk');
    	} else {
	window.alert('CMQCC Classification: Low Risk');
	}  
    //}else{
        //there are some errors to display
        //bad user
        //let err = document.querySelector('.error');
        //let input = err.querySelector('input');
        //err.setAttribute('data-errormsg', ` ... Missing ${input.placeholder}`);
      //  fails.forEach(function(obj){
      //      let field = document.getElementById(obj.input);
      //      field.parentElement.classList.add('error');
      //      field.parentElement.setAttribute('data-errormsg', obj.msg);
        //})
    //}
}

document.addEventListener('DOMContentLoaded', init);
//window.alert(5 + 6);
</script>
</head>

	
<body>
<h2>CMQCC</h2>
<form id="form-user" action="#" method="post">
Instructions: Check conditions if present, do not check if uncertain or not present
<h3>High-Risk Checks</h3>
  <div>
  	<input type="checkbox" id="PREV01"> Placenta previa or low lying placenta 
  </div>
  
  <div>
  	<input type="checkbox" id="CRET01"> Suspected placenta accreta/percreta
  </div>
  
  <div>
  	<input type="checkbox" id="HEMATOCRIT01"> Hematocrit less than 30 
  </div>
  
  <div>
  <input type="checkbox" id="BLEED01"> Active bleeding (greater than show) on admission 
  </div>
  
  <div>
  <input type="checkbox" id="PLATCOUNT01"> Platelet count less than 100,000
  </div>
  
  <div>
  <input type="checkbox" id="COAG01"> Known coagulopathy 
  </div>
  <br>

<h3>Medium-Risk Checks</h3>
  <div>
  <input type="checkbox" id="PCES01"> Previous cesarean delivery or uterine surgery 
  </div>
  
  <div>
  <input type="checkbox" id="MGEST01"> Multiple gestation
  </div>
  
  <div>
  <input type="checkbox" id="PAR401"> Greater than 4 previous vaginal deliveries
  </div>

  <div>
  <input type="checkbox" id="CHOR01"> Chorioamnionitis 
  </div>

  <div>
  <input type="checkbox" id="HISTHEM01"> History of peripartum hemorrhage   
  </div>

  <div>
  <input type="checkbox" id="LEIO01"> Large uterine leiomyoma
  </div>

  <div>
  <input type="checkbox" id="MACR01"> Macrosomia (estimated fetal weight > 4 kg)
  </div>

  <div>
  <input type="checkbox" id="BMI01"> Morbid Obesity (BMI greater than 35 kg/m^2)
  </div>

  <br>
  
<h3>Low-Risk Check:</h3>
  <div>
  <input type="checkbox" id="LOW01"> Confirm that no risk factors are indicated above
  </div>
<br>
  <div class="form-box">
  <button id="button-reset">Reset</button>
  <button id="button-submit">Submit</button>
  </div>
<p><input type="button" value="Click here" onClick="showAlert();"></p>  
</form> 

</body>


</html>

